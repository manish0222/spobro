<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="signup.css">    
    <title>SPOBRO</title>
   
</head>
<body> 
    <div class="signup">
      <!-- <div class="side-image">
        <img src="foodgiving-im.png">
      </div> -->
        <div class="signup-box">
            <!-- <div class="logo-image"> -->
                <!-- <img src="feedNeedy logo.png"> -->
            <!-- </div> -->
            <div class="login-container">
            <form onsubmit="" name="signup_form" id="signup_form" method="post" action="#" enctype="multipart/form-data" >
                    <!-- <div class="form-group">
                        <br>
                        <label for="name" >Name of Company</label>
                        <br>
                        <input type="name" name="name" id="name" class="form-control"  placeholder="Enter your Name">
                        <br>
                     </div> -->

                      <div class="form-group">
                        <label for="email">Email</label>
                        <br>
                        <input type="text" name="email" id="email" class="form-control" placeholder="Enter your email">
                        <br>
                      </div>
                      
                      <div class="form-group">
                        <br>
                        <label for="password" >Password</label>
                        <br>
                        <input type="password" name="password" id="password" class="form-control"  placeholder="Enter your password">
                        <br>
                      </div>

                      <!-- <div class="form-group">
                        <br>
                        <label for="Contact" >Contact Number</label>
                        <br>
                        <input type="number" name="Contact" id="Contact" class="form-control"  placeholder="Enter your ContactNo">
                        <br>
                      </div> -->

                      <!-- <div class="form-group">
                        <br>
                        <label for="City" >City</label>
                        <br>
                        <input type="text" name="City" id="City" class="form-control"  placeholder="Enter your City">
                        <br>
                      </div> -->
                      <button type="button"  id="register" name="register" class="btn btn-success">Sign-Up</button>

        </div>
        </form>
        </div>
        </div>

        <script type="module">
            
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js";
            import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-analytics.js";
            import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-auth.js";
            import { getFirestore, doc, setDoc, addDoc, updateDoc, deleteDoc, getDoc, collection } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js";

            // For Firebase JS SDK v7.20.0 and later, measurementId is optional
            const firebaseConfig = {
              apiKey: "AIzaSyBDh4UzFF9RErD-xHpQZ5UZFcU9sWQ_BqU",
              authDomain: "spobro-2640c.firebaseapp.com",
              projectId: "spobro-2640c",
              storageBucket: "spobro-2640c.appspot.com",
              messagingSenderId: "666188504470",
              appId: "1:666188504470:web:cf45a74b9e07b3ddae91b7",
              measurementId: "G-Q914ZE86WJ"
            };

            // const db = getFirestore();
            //     let NameBox = document.getElementById("name");
            //     let City = document.getElementById("City");
            //     let Contact = document.getElementById("Contact");
            //     let Insbtn = document.getElementById("register");
            //     // let Selbtn = document.getElementById("Selbtn");
            //     // let Updbtn = document.getElementById("Updbtn");
            //     // let Delbtn = document.getElementById("Delbtn");
            //     async function AddDocument_CustomID() {
            //       var ref = doc(db, "sponsorList", document.getElementById("Contact").value);
            //       await setDoc(
            //         ref, {
            //           NameBox :document.getElementById("name").value,
            //           City : document.getElementById("City").value,
            //           Contact : document.getElementById("Contact").value,
            //           // MobileBox : document.getElementById("Contact").value,
            //           // FoodBox : document.getElementById("food").value,
            //           // ShelfBox : document.getElementById("shelf").value,
            //           // QuantityBox : document.getElementById("quantity").value
            //        }
            //       )

            //         .then(() => {

            //           alert("Donated Succesfully");
            //           // window.location.href="checkout.html"
            //         }
            //         )
            //         .catch((error) => {
            //           alert("unsuccessfull,error:" + error);
            //     });
            //     Insbtn.addEventListener("click", AddDocument_CustomID);

            //}
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const analytics = getAnalytics(app);
            const auth = getAuth();
            console.log(app);

            document.getElementById("register").addEventListener("click", function() {
                var email =  document.getElementById("email").value;
                var password = document.getElementById("password").value;
                // var city =  document.getElementById("City").value;
                // var Name = document.getElementById("name").value;
                // var contact = document.getElementById("Contact").value;
                //For new signup
                createUserWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                  // Signed in 
                  const user = userCredential.user; // user ref
                  console.log(user);
            
                  alert("Registration successfully!!");
                  window.location.href="signin.html"
                  
                })
                .catch((error) => {
                  const errorCode = error.code;
                  const errorMessage = error.message;
                  // ..
                  console.log(errorMessage);
                  alert(error);
                });		  	
                
            });  
          </script>
</div>
</body>
</html>